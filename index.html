<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>365DAY</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- Backdrop -->
  <div id="backdrop" hidden aria-hidden="true"></div>

  <!-- Drawer -->
  <aside id="drawer" class="drawer" aria-hidden="true">
    <div class="drawer-head">
      <div class="drawer-brand">
        <div class="brand-title">365DAY</div>
        <div class="brand-sub">—Ç–≤–æ–π –º–∞—Ä–∞—Ñ–æ–Ω</div>
      </div>

      <button id="btnCloseMenu" class="icon-btn" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–µ–Ω—é">
        ‚úï
      </button>
    </div>

    <div class="drawer-mini">
      <div class="mini">
        <div class="mini-label">–ë–æ–Ω—É—Å—ã</div>
        <div class="mini-value"><span id="miniBalance">0</span> ‚≠ê</div>
      </div>
      <div class="mini">
        <div class="mini-label">Streak</div>
        <div class="mini-value"><span id="miniStreak">0</span> –¥</div>
      </div>
      <div class="mini">
        <div class="mini-label">–†–∞–Ω–≥</div>
        <div class="mini-value">#<span id="miniRank">1</span></div>
      </div>
    </div>

    <nav class="drawer-nav">
      <button class="drawer-item" type="button" data-nav="home">–°—Ç–∞—Ç—É—Å</button>
      <button class="drawer-item" type="button" data-nav="today">–°–µ–≥–æ–¥–Ω—è</button>
      <button class="drawer-item" type="button" data-nav="water">–í–æ–¥–∞</button>
      <button class="drawer-item" type="button" data-nav="calories">–ö–∞–ª–æ—Ä–∏–∏</button>
      <button class="drawer-item" type="button" data-nav="goals">–¶–µ–ª–∏</button>
      <button class="drawer-item" type="button" data-nav="templates">–®–∞–±–ª–æ–Ω—ã</button>
      <button class="drawer-item" type="button" data-nav="shop">–ú–∞–≥–∞–∑–∏–Ω</button>
      <button class="drawer-item" type="button" data-nav="achievements">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
      <button class="drawer-item" type="button" data-nav="analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</button>
      <button class="drawer-item" type="button" data-nav="settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </nav>

    <div class="drawer-foot muted small">
      –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (localStorage)
    </div>
  </aside>

  <!-- Topbar -->
  <header class="topbar">
    <button id="btnOpenMenu" class="icon-btn" type="button" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
      ‚ò∞
    </button>

    <div class="topbar-center">
      <div class="app-title">365DAY</div>
      <div id="headerDayText" class="dayline">–î–µ–Ω—å 1/365</div>
    </div>

    <div class="topbar-right">
      <button id="btnPrevCard" class="nav-btn" type="button" aria-label="–í–ª–µ–≤–æ">‚Äπ</button>
      <button id="btnNextCard" class="nav-btn" type="button" aria-label="–í–ø—Ä–∞–≤–æ">‚Ä∫</button>
      <button id="btnCalendar" class="icon-btn" type="button" aria-label="–ö–∞–ª–µ–Ω–¥–∞—Ä—å">üìÖ</button>
    </div>
  </header>

  <!-- Cards stage -->
  <main class="cardstage" aria-live="polite">

    <!-- HOME / STATUS -->
    <section class="card is-active" data-screen="home" id="screenHome">
      <div class="card-head">
        <h2 class="card-title">–°—Ç–∞—Ç—É—Å</h2>
        <div class="card-sub" id="uiDayFull">‚Äî</div>
      </div>

      <div class="card-body">

        <div class="grid-2">
          <div class="statbox">
            <div class="stat-label">–£—Ä–æ–≤–µ–Ω—å</div>
            <div class="stat-value" id="uiLevel">20 / 365</div>
          </div>
          <div class="statbox">
            <div class="stat-label">–†–∞–Ω–≥</div>
            <div class="stat-value" id="uiRank">1 ‚Äî –ù–∞—á–∞–ª–æ üöÄ</div>
          </div>
        </div>

        <div class="grid-3">
          <div class="statbox">
            <div class="stat-label">–ë–æ–Ω—É—Å—ã</div>
            <div class="stat-value"><span id="uiBalance">0</span> ‚≠ê</div>
          </div>
          <div class="statbox">
            <div class="stat-label">Streak</div>
            <div class="stat-value" id="uiStreak">0 –¥–Ω–µ–π</div>
          </div>
          <div class="statbox">
            <div class="stat-label">–ë–æ–Ω—É—Å –¥–Ω—è</div>
            <div class="stat-value" id="uiDailyBonus">+20</div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="progress-block">
          <div class="progress-head">
            <div class="progress-title">–ó–∞–¥–∞—á–∏</div>
            <div class="progress-right">
              <span id="uiTasksDone">0 / 0</span>
            </div>
          </div>
          <div class="progressbar">
            <div class="progressbar-fill" id="homeTasksFill" style="width:0%"></div>
          </div>
        </div>

        <div class="progress-block">
          <div class="progress-head">
            <div class="progress-title">–í–æ–¥–∞</div>
            <div class="progress-right">
              <span id="uiWaterMini">0 –º–ª / 2500 –º–ª</span>
            </div>
          </div>
          <div class="progressbar">
            <div class="progressbar-fill" id="homeWaterFill" style="width:0%"></div>
          </div>
        </div>

        <div class="progress-block">
          <div class="progress-head">
            <div class="progress-title">–ö–∞–ª–æ—Ä–∏–∏</div>
            <div class="progress-right">
              <span id="uiCaloriesMini">0 –∫–∫–∞–ª</span>
            </div>
          </div>
          <div class="progressbar">
            <div class="progressbar-fill" id="homeCaloriesFill" style="width:0%"></div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="grid-2">
          <div class="statbox soft">
            <div class="stat-label">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ —Å–µ–≥–æ–¥–Ω—è</div>
            <div class="stat-value" id="uiEarnedToday">+0</div>
          </div>
          <div class="statbox soft">
            <div class="stat-label">–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª</div>
            <div class="stat-value" id="uiPotential">+0</div>
          </div>
        </div>

      </div>
    </section>

    <!-- TODAY -->
    <section class="card" data-screen="today" id="screenToday" hidden>
      <div class="card-head">
        <h2 class="card-title">–°–µ–≥–æ–¥–Ω—è</h2>
        <div class="card-sub" id="todayDateLine">‚Äî</div>
      </div>

      <div class="card-body">

        <div class="today-top">
          <div class="today-progress">
            <div class="progressbar large">
              <div class="progressbar-fill" style="width:0%"></div>
            </div>
            <div class="today-progress-text">
              –í—ã–ø–æ–ª–Ω–µ–Ω–æ: <strong id="todayProgressText">0%</strong>
            </div>
          </div>

          <div class="today-actions">
            <button class="btn primary" type="button" data-action="add-task">+ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</button>
            <button class="btn success" type="button" id="btnClaimDailyBonus" hidden>–ó–∞–±—Ä–∞—Ç—å –±–æ–Ω—É—Å –¥–Ω—è</button>
          </div>
        </div>

        <div class="divider"></div>

        <ul id="todayTaskList" class="task-list">
          <!-- JS –∑–∞–ø–æ–ª–Ω–∏—Ç -->
        </ul>

      </div>
    </section>

    <!-- WATER -->
    <section class="card" data-screen="water" id="screenWater" hidden>
      <div class="card-head">
        <h2 class="card-title">–í–æ–¥–∞</h2>
        <div class="card-sub">–°–ª–µ–¥–∏ –∑–∞ –Ω–æ—Ä–º–æ–π</div>
      </div>

      <div class="card-body">

        <div class="grid-2">
          <div class="statbox">
            <div class="stat-label">–í—ã–ø–∏—Ç–æ</div>
            <div class="stat-value" id="waterDrank">0 –º–ª</div>
          </div>
          <div class="statbox">
            <div class="stat-label">–¶–µ–ª—å</div>
            <div class="stat-value" id="waterGoal">2500 –º–ª</div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="progress-block">
          <div class="progress-head">
            <div class="progress-title">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
            <div class="progress-right"><span id="waterPercent">0%</span></div>
          </div>
          <div class="progressbar">
            <div class="progressbar-fill fill" data-fill="water" style="width:0%"></div>
          </div>
          <div class="muted small">–°—Ç–∞–∫–∞–Ω—ã (–ø–æ 200 –º–ª): <strong id="waterGlasses">0</strong></div>
        </div>

        <div class="divider"></div>

        <div class="chip-row">
          <button class="chip" type="button" data-action="water-add" data-ml="200">+200</button>
          <button class="chip" type="button" data-action="water-add" data-ml="300">+300</button>
          <button class="chip" type="button" data-action="water-add" data-ml="500">+500</button>
          <button class="chip danger" type="button" data-action="water-reset">–°–±—Ä–æ—Å</button>
        </div>

        <div class="divider"></div>

        <label class="field">
          <span class="field-label">–¶–µ–ª—å –≤–æ–¥—ã (–º–ª)</span>
          <input id="waterGoalInput" class="input" inputmode="numeric" placeholder="2500" />
          <span class="field-hint muted small">–°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ ‚Äú–ù–∞—Å—Ç—Ä–æ–π–∫–∞—Ö‚Äù –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è</span>
        </label>

      </div>
    </section>

    <!-- CALORIES -->
    <section class="card" data-screen="calories" id="screenCalories" hidden>
      <div class="card-head">
        <h2 class="card-title">–ö–∞–ª–æ—Ä–∏–∏</h2>
        <div class="card-sub">–í–Ω–µ—Å–∏ —Ç–æ, —á—Ç–æ —Å—ä–µ–ª–∞</div>
      </div>

      <div class="card-body">

        <div class="grid-2">
          <div class="statbox">
            <div class="stat-label">–°–µ–≥–æ–¥–Ω—è</div>
            <div class="stat-value" id="caloriesToday">0 –∫–∫–∞–ª</div>
          </div>
          <div class="statbox">
            <div class="stat-label">–ü—Ä–æ–≥—Ä–µ—Å—Å (—É—Å–ª–æ–≤–Ω–æ)</div>
            <div class="stat-value muted">–∫ —Ü–µ–ª–∏ 2500</div>
          </div>
        </div>

        <div class="progressbar">
          <div class="progressbar-fill fill" data-fill="calories" style="width:0%"></div>
        </div>

        <div class="divider"></div>

        <div class="row">
          <input id="caloriesInput" class="input" inputmode="numeric" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 350" />
          <button class="btn primary" type="button" data-action="cal-add">–î–æ–±–∞–≤–∏—Ç—å</button>
          <button class="btn danger" type="button" data-action="cal-reset">–°–±—Ä–æ—Å</button>
        </div>

        <div class="divider"></div>

        <ul id="caloriesLog" class="list">
          <!-- JS –∑–∞–ø–æ–ª–Ω–∏—Ç -->
        </ul>

      </div>
    </section>

    <!-- GOALS -->
    <section class="card" data-screen="goals" id="screenGoals" hidden>
      <div class="card-head">
        <h2 class="card-title">–¶–µ–ª–∏</h2>
        <div class="card-sub">–î–≤–∏–≥–∞–π—Å—è –º–∞–ª–µ–Ω—å–∫–∏–º–∏ —à–∞–≥–∞–º–∏</div>
      </div>

      <div class="card-body">
        <button class="btn primary" type="button" data-action="goal-add">+ –î–æ–±–∞–≤–∏—Ç—å —Ü–µ–ª—å</button>
        <div class="divider"></div>

        <ul id="goalsList" class="list">
          <!-- JS -->
        </ul>
      </div>

      <template id="goalItemTemplate">
        <li class="goal-item">
          <div class="goal-top">
            <div>
              <div class="goal-title">–¶–µ–ª—å</div>
              <div class="muted small goal-meta">0 / 10</div>
            </div>
            <div class="goal-right">
              <span class="pill"><span class="goal-progress-text">0%</span></span>
            </div>
          </div>

          <div class="progressbar">
            <div class="progressbar-fill" style="width:0%"></div>
          </div>

          <div class="goal-actions">
            <button class="chip" type="button" data-action="goal-minus">‚àí</button>
            <button class="chip" type="button" data-action="goal-plus">+</button>
            <button class="chip" type="button" data-action="goal-edit">–†–µ–¥–∞–∫—Ç.</button>
            <button class="chip danger" type="button" data-action="goal-delete">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        </li>
      </template>
    </section>

    <!-- TEMPLATES -->
    <section class="card" data-screen="templates" id="screenTemplates" hidden>
      <div class="card-head">
        <h2 class="card-title">–®–∞–±–ª–æ–Ω—ã</h2>
        <div class="card-sub">–ë—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–ª—è–π –Ω–∞–±–æ—Ä –∑–∞–¥–∞—á</div>
      </div>

      <div class="card-body">

        <label class="field">
          <span class="field-label">–ù–∞–∑–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞</span>
          <input id="tplName" class="input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –£—Ç—Ä–æ" />
        </label>

        <label class="field">
          <span class="field-label">–ó–∞–¥–∞—á–∏ (–∫–∞–∂–¥–∞—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏)</span>
          <textarea id="tplTasks" class="textarea" rows="6" placeholder="–í–æ–¥–∞&#10;–ó–∞—Ä—è–¥–∫–∞&#10;–ß—Ç–µ–Ω–∏–µ"></textarea>
        </label>

        <button class="btn primary" type="button" data-action="tpl-create">–°–æ–∑–¥–∞—Ç—å —à–∞–±–ª–æ–Ω</button>

        <div class="divider"></div>

        <ul id="templatesList" class="list">
          <!-- JS -->
        </ul>

      </div>

      <template id="templateItemTemplate">
        <li class="template-item">
          <div class="template-left">
            <div class="template-title">–®–∞–±–ª–æ–Ω</div>
            <div class="muted small">–ó–∞–¥–∞—á: <span class="template-count">0</span></div>
          </div>
          <div class="template-right">
            <button class="chip" type="button" data-action="tpl-apply" data-template-id="">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <button class="chip danger" type="button" data-action="tpl-delete" data-template-id="">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        </li>
      </template>
    </section>

    <!-- SHOP -->
    <section class="card" data-screen="shop" id="screenShop" hidden>
      <div class="card-head">
        <h2 class="card-title">–ú–∞–≥–∞–∑–∏–Ω</h2>
        <div class="card-sub">–¢—Ä–∞—Ç—å –±–æ–Ω—É—Å—ã –Ω–∞ –Ω–∞–≥—Ä–∞–¥—ã</div>
      </div>

      <div class="card-body">

        <div class="grid-2">
          <div class="statbox">
            <div class="stat-label">–ë–∞–ª–∞–Ω—Å</div>
            <div class="stat-value"><span id="shopBalance">0</span> ‚≠ê</div>
          </div>
          <div class="statbox soft">
            <div class="stat-label muted">–ü–æ–¥—Å–∫–∞–∑–∫–∞</div>
            <div class="muted small">–í—ã–±–∏—Ä–∞–π –Ω–∞–≥—Ä–∞–¥—É –∏ –Ω–∞–∂–∏–º–∞–π ‚Äú–ö—É–ø–∏—Ç—å‚Äù</div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="shop-card">
          <div class="shop-photo">
            <img id="shopItemPhoto" src="shop-default.jpg" alt="–ù–∞–≥—Ä–∞–¥–∞" />
          </div>
          <div class="shop-info">
            <div class="shop-emoji" id="shopItemEmoji">üéÅ</div>
            <div class="shop-name" id="shopItemName">‚Äî</div>
            <div class="shop-price">
              <span id="shopItemPrice">0</span><span id="shopItemCurrency">‚≠ê</span>
            </div>
          </div>
        </div>

        <div class="shop-actions">
          <button class="nav-btn" type="button" data-action="shop-prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∞—è">‚Äπ</button>
          <button class="btn success" type="button" data-action="shop-buy">–ö—É–ø–∏—Ç—å</button>
          <button class="nav-btn" type="button" data-action="shop-next" aria-label="–°–ª–µ–¥—É—é—â–∞—è">‚Ä∫</button>
        </div>

        <div class="divider"></div>

        <details class="panel">
          <summary>–î–æ–±–∞–≤–∏—Ç—å / —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã</summary>

          <div class="row">
            <input id="shopEmoji" class="input" placeholder="–≠–º–æ–¥–∑–∏ (üéÅ)" />
            <input id="shopName" class="input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" />
            <input id="shopPrice" class="input" inputmode="numeric" placeholder="–¶–µ–Ω–∞" />
          </div>

          <div class="row">
            <button class="btn primary" type="button" data-action="shop-add">–î–æ–±–∞–≤–∏—Ç—å</button>
            <input id="shopEditLineInput" class="input" placeholder="—ç–º–æ–¥–∑–∏ | –∏–º—è | —Ü–µ–Ω–∞" />
            <button class="btn" type="button" data-action="shop-edit">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            <button class="btn danger" type="button" data-action="shop-delete">–£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–π</button>
          </div>
        </details>

        <div class="divider"></div>

        <div class="panel">
          <div class="panel-title">–ò—Å—Ç–æ—Ä–∏—è</div>
          <ul id="shopHistory" class="list"></ul>
        </div>

      </div>
    </section>

    <!-- ACHIEVEMENTS -->
    <section class="card" data-screen="achievements" id="screenAchievements" hidden>
      <div class="card-head">
        <h2 class="card-title">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
        <div class="card-sub">–û—Ç–∫—Ä—ã–≤–∞–π –Ω–æ–≤—ã–µ –∑–Ω–∞—á–∫–∏</div>
      </div>

      <div class="card-body">
        <ul id="achievementsList" class="ach-list">
          <!-- JS: –±—É–¥–µ—Ç >60 -->
        </ul>
      </div>
    </section>

    <!-- ANALYTICS -->
    <section class="card" data-screen="analytics" id="screenAnalytics" hidden>
      <div class="card-head">
        <h2 class="card-title">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
        <div class="card-sub">7 –¥–Ω–µ–π / –º–µ—Å—è—Ü / 12 –º–µ—Å—è—Ü–µ–≤</div>
      </div>

      <div class="card-body">

        <div class="grid-3">
          <div class="statbox">
            <div class="stat-label">–ó–∞–¥–∞—á –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
            <div class="stat-value" id="anTasksDone">0</div>
          </div>
          <div class="statbox">
            <div class="stat-label">–î–Ω–µ–π –∑–∞–∫—Ä—ã—Ç–æ</div>
            <div class="stat-value" id="anDaysClosed">0</div>
          </div>
          <div class="statbox">
            <div class="stat-label">Streak</div>
            <div class="stat-value" id="anStreak">0</div>
          </div>
        </div>

        <div class="grid-3">
          <div class="statbox soft">
            <div class="stat-label">–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</div>
            <div class="stat-value" id="anEarnedTotal">0</div>
          </div>
          <div class="statbox soft">
            <div class="stat-label">–ü–æ—Ç—Ä–∞—á–µ–Ω–æ</div>
            <div class="stat-value" id="anSpentTotal">0</div>
          </div>
          <div class="statbox soft">
            <div class="stat-label">–ë–∞–ª–∞–Ω—Å</div>
            <div class="stat-value" id="anBalance">0</div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="chip-row">
          <button class="chip" type="button" data-action="analytics-week">7 –¥–Ω–µ–π</button>
          <button class="chip" type="button" data-action="analytics-month">–ú–µ—Å—è—Ü</button>
          <button class="chip" type="button" data-action="analytics-year">12 –º–µ—Å—è—Ü–µ–≤</button>
        </div>

        <div class="divider"></div>

        <div id="analyticsOutput" class="analytics-out">
          <!-- JS -->
        </div>

      </div>
    </section>

    <!-- SETTINGS -->
    <section class="card" data-screen="settings" id="screenSettings" hidden>
      <div class="card-head">
        <h2 class="card-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        <div class="card-sub">–£–ø—Ä–∞–≤–ª—è–π –º–∞—Ä–∞—Ñ–æ–Ω–æ–º</div>
      </div>

      <div class="card-body">

        <label class="field">
          <span class="field-label">–î–∞—Ç–∞ —Å—Ç–∞—Ä—Ç–∞ (ISO)</span>
          <input id="setStartDate" class="input" placeholder="2026-01-20" />
        </label>

        <label class="field">
          <span class="field-label">–ë–æ–Ω—É—Å –¥–Ω—è (‚≠ê)</span>
          <input id="setDailyBonus" class="input" inputmode="numeric" placeholder="20" />
        </label>

        <label class="field">
          <span class="field-label">–¶–µ–ª—å –≤–æ–¥—ã (–º–ª)</span>
          <input id="setWaterGoal" class="input" inputmode="numeric" placeholder="2500" />
        </label>

        <div class="row">
          <button id="btnSaveSettings" class="btn primary" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          <button id="btnResetProgress" class="btn danger" type="button">–û–±–Ω—É–ª–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å</button>
        </div>

        <div class="divider"></div>
        <p class="muted small">
          –û–±–Ω—É–ª–µ–Ω–∏–µ —É–¥–∞–ª–∏—Ç –∑–∞–¥–∞—á–∏, –±–æ–Ω—É—Å—ã, streak, –∞–Ω–∞–ª–∏—Ç–∏–∫—É, –º–∞–≥–∞–∑–∏–Ω –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è.
        </p>

      </div>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
